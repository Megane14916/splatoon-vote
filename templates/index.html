<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="{{ csrf_token() }}">
    <title>ã‚¹ãƒ—ãƒ©ãƒˆã‚¥ãƒ¼ãƒ³3 æ–°ãƒ–ã‚­äºˆæƒ³æŠ•ç¥¨æ‰€</title>
    <meta name="description" content="ã‚¹ãƒ—ãƒ©ãƒˆã‚¥ãƒ¼ãƒ³3ã®ã¾ã è¦‹ã¬æ–°ã—ã„ãƒ–ã‚­ã®çµ„ã¿åˆã‚ã›ã‚’äºˆæƒ³ã—ã¦æŠ•ç¥¨ã—ã‚ˆã†ï¼13,000é€šã‚Šä»¥ä¸Šã®æ§‹æˆã‹ã‚‰ãŠæ°—ã«å…¥ã‚Šã‚’æ¢ã—ã¦ã€ã¿ã‚“ãªã®äººæ°—ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’ãƒã‚§ãƒƒã‚¯ï¼">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/favicon.ico') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Noto+Sans+JP:wght@100..900&display=swap" rel="stylesheet">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8HHMDSHYRB"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-8HHMDSHYRB');
    </script>
</head>
<body class="page-index">
    <div class="content-wrap"> 
    <header>
        <h1><span class="brand-title">Splatoon 3</span> æ–°ãƒ–ã‚­äºˆæƒ³æŠ•ç¥¨æ‰€ ğŸ¦‘</h1>
            <nav class="header-nav">
                <a href="{{ url_for('ranking') }}">ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒšãƒ¼ã‚¸ã¸ <span class="arrow">â†’</span></a>
            </nav>
    </header>

    <div class="controls-container">
    <div class="control-box filter-box">
        <h3 class="control-title">çµã‚Šè¾¼ã¿</h3>
        <div class="select-group">
            <div class="select-item">
                <label for="type-filter" class="select-label">ãƒ¡ã‚¤ãƒ³</label>
                <select id="type-filter">
                    <option value="all">ã™ã¹ã¦ã®ãƒ–ã‚­ç¨®</option>
                    {% for type in weapon_types %}
                        <option value="{{ type }}" {% if type == current_filters.type %}selected{% endif %}>{{ type }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="select-item">
                <label for="sub-filter" class="select-label">ã‚µãƒ–</label>
                <select id="sub-filter">
                    <option value="all">ã™ã¹ã¦ã®ã‚µãƒ–</option>
                    {% for sub in sub_weapons %}
                        <option value="{{ sub }}" {% if sub == current_filters.sub %}selected{% endif %}>{{ sub }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="select-item">
                <label for="special-filter" class="select-label">ã‚¹ãƒšã‚·ãƒ£ãƒ«</label>
                <select id="special-filter">
                    <option value="all">ã™ã¹ã¦ã®ã‚¹ãƒšã‚·ãƒ£ãƒ«</option>
                    {% for special in special_weapons %}
                        <option value="{{ special }}" {% if special == current_filters.special %}selected{% endif %}>{{ special }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
    </div>

    <div class="control-box sort-box">
        <h3 class="control-title">ä¸¦ã¹æ›¿ãˆ</h3>
        <div class="select-group">
            <div class="select-item">
                <select id="sort-order">
                    <option value="default" {% if current_filters.sort == 'default' %}selected{% endif %}>ç¨®é¡é †</option>
                    <option value="votes_desc" {% if current_filters.sort == 'votes_desc' %}selected{% endif %}>æŠ•ç¥¨æ•°é † (å¤šã„é †)</option>
                    <option value="votes_asc" {% if current_filters.sort == 'votes_asc' %}selected{% endif %}>æŠ•ç¥¨æ•°é † (å°‘ãªã„é †)</option>
                </select>
            </div>
        </div>
    </div>
    </div>

    <main>
    <div id="weapon-grid">
        {% for weapon in weapons %}
        <div class="weapon-tile" data-type="{{ weapon.main.type }}" data-main="{{ weapon.main.name }}" data-sub="{{ weapon.sub.name }}" data-special="{{ weapon.special.name }}">
            
            <h3 class="main-weapon-name">{{ weapon.main.name }}</h3>

            <div class="tile-body">
                <img src="{{ url_for('static', filename='images/main/' + weapon.main.image) }}" alt="{{ weapon.main.name }}" class="main-weapon-icon">
                <div class="sub-special-icons">
                    <img src="{{ url_for('static', filename='images/sub/' + weapon.sub.image) }}" alt="{{ weapon.sub.name }}" class="sub-special-icon">
                    <img src="{{ url_for('static', filename='images/special/' + weapon.special.image) }}" alt="{{ weapon.special.name }}" class="sub-special-icon">
                </div>
            </div>

            <div class="vote-section">
                <span class="vote-count" id="vote-count-{{ weapon.id }}">{{ weapon.vote_count }} ç¥¨</span>
                <button class="vote-button" data-id="{{ weapon.id }}">æŠ•ç¥¨ã™ã‚‹</button>
            </div>
        </div>
        {% endfor %}
    </div>
    </main>

    <div class="pagination">
        <a href="{{ url_for('index', page=1, **current_filters) }}" class="page-link {{ 'disabled' if current_page == 1 else '' }}">&laquo; æœ€åˆ</a>
        <a href="{{ url_for('index', page=current_page - 1, **current_filters) }}" class="page-link {{ 'disabled' if current_page == 1 else '' }}">&lsaquo; å‰</a>
        <span class="page-current">{{ current_page }} / {{ total_pages }}</span>
        <a href="{{ url_for('index', page=current_page + 1, **current_filters) }}" class="page-link {{ 'disabled' if current_page == total_pages else '' }}">æ¬¡ &rsaquo;</a>
        <a href="{{ url_for('index', page=total_pages, **current_filters) }}" class="page-link {{ 'disabled' if current_page == total_pages else '' }}">æœ€å¾Œ &raquo;</a>
    </div>

    <div id="vote-limiter">
        <p>ä»Šæ—¥ã®æ®‹ã‚ŠæŠ•ç¥¨æ•°: <span id="votes-remaining">10</span> å›</p>
    </div>
    </div>

    <footer>
        <p class="footer-disclaimer">å½“ã‚µã‚¤ãƒˆã¯éå…¬å¼ã®ãƒ•ã‚¡ãƒ³ã‚µã‚¤ãƒˆã§ã‚ã‚Šã€ä»»å¤©å ‚æ ªå¼ä¼šç¤¾ã¨ã¯ä¸€åˆ‡é–¢ä¿‚ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
        <nav class="footer-nav">
            <ul>
                <li><a href="{{ url_for('about') }}">ã“ã®ã‚µã‚¤ãƒˆã«ã¤ã„ã¦</a></li>
                <li><a href="https://x.com/Axxc6HQp2S93271" target="_blank" rel="noopener noreferrer">ãŠå•ã„åˆã‚ã› (X)</a></li>
            </ul>
        </nav>
        <p class="footer-copyright">&copy; 2025 yoanz</p>
    </footer>

    <script src="{{ url_for('static', filename='js/filter.js') }}"></script>
    <script src="{{ url_for('static', filename='js/vote.js') }}"></script>
</body>
</html>